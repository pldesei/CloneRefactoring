ProjectPath:/root/NewExperiment/elasticsearchFilter/00905
predFragLineRange:123-157
predMethodLineRange:123-157
nextLineRange:130-164
predStrMethodInvoNames:
[innerPercolate, entrySet, reset, search, getValue, warn, getKey, exists, searcher, count, search, searcher, counter, warn, release, index, shardId]
%%%%%%%%%%
AddedMethodInvo Line:131 InvoName:preparePercolate(request,new PercolateAction(){
  @Override public PercolateShardResponse doPercolateAction(  PercolateContext context){
    long count=0;
    if (context.query == null) {
      Lucene.ExistsCollector collector=new Lucene.ExistsCollector();
      for (      Map.Entry<Text,Query> entry : context.percolateQueries.entrySet()) {
        collector.reset();
        try {
          context.docSearcher.search(entry.getValue(),collector);
        }
 catch (        IOException e) {
          logger.warn("[" + entry.getKey() + "] failed to execute query",e);
        }
        if (collector.exists()) {
          count++;
        }
      }
    }
 else {
      Engine.Searcher percolatorSearcher=context.indexShard.searcher();
      try {
        Count countCollector=count(logger,context.percolateQueries,context.docSearcher,context.fieldDataService);
        percolatorSearcher.searcher().search(context.query,countCollector);
        count=countCollector.counter();
      }
 catch (      IOException e) {
        logger.warn("failed to execute",e);
      }
 finally {
        percolatorSearcher.release();
      }
    }
    return new PercolateShardResponse(count,context,request.index(),request.shardId());
  }
}
)
PackageName:org.elasticsearch.percolator
QualifiedClassName:org.elasticsearch.percolator.PercolatorService
ClassName:PercolatorService
InvokedFilePath:/root/NewExperiment/elasticsearchFilter/00905/src/main/java/org/elasticsearch/percolator/PercolatorService.java
InvokedMethodSig:private org.elasticsearch.action.percolate.PercolateShardResponse preparePercolate(org.elasticsearch.action.percolate.PercolateShardRequest, org.elasticsearch.percolator.PercolatorService.PercolateAction) 
