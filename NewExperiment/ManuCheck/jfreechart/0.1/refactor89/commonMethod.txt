(startLine=3356 endLine=3375 srcPath=/home/sonia/NewExperiment/jfreechartFilter/00365/source/org/jfree/chart/plot/XYPlot.java)
    /**
     * Returns the indices of the non-null datasets in the specified order.
     * 
     * @param order  the order (<code>null</code> not permitted).
     * 
     * @return The list of indices. 
     */
    private List<Integer> getDatasetIndices(DatasetRenderingOrder order) {
        List<Integer> result = new ArrayList<Integer>();
        for (Entry<Integer, XYDataset> entry : this.datasets.entrySet()) {
            if (entry.getValue() != null) {
                result.add(entry.getKey());
            }
        }
        Collections.sort(result);
        if (order == DatasetRenderingOrder.REVERSE) {
            Collections.reverse(result);
        }
        return result;
    }

