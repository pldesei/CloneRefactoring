(startLine=143 endLine=163 srcPath=/home/sonia/NewExperiment/eclipse.jdt.coreFilter/02430/org.eclipse.jdt.compiler.apt/src/org/eclipse/jdt/internal/compiler/apt/model/TypeMirrorImpl.java)
	public <A extends Annotation> A[] getAnnotationsByType(Class<A> annotationType) {
		
		if (_env == null)
			return (A[]) Array.newInstance(annotationType, 0);
		
		AnnotationBinding [] packedAnnotations = getPackedAnnotationBindings();
		A [] result1 = _env.getFactory().getAnnotationsByType(packedAnnotations, annotationType);
		A [] result2 = _env.getFactory().getAnnotationsByType(Factory.getOnlyUnpackedAnnotationBindings(packedAnnotations), annotationType);
		
		if (result1.length == 0)
			return result2;
		if (result2.length == 0)
			return result1;
		
		A [] result = (A[]) Array.newInstance(annotationType, result1.length + result2.length);
		
		System.arraycopy(result1, 0, result, 0, result1.length);
		System.arraycopy(result2, 0, result, result1.length, result2.length);
		
		return result;
	}

