(startLine=524 endLine=545 srcPath=/home/sonia/NewExperiment/jrubyFilter/01181/src/org/jruby/runtime/invokedynamic/InvokeDynamicSupport.java)
    public static IRubyObject invocationFallback(JRubyCallSite site, ThreadContext context, IRubyObject caller, IRubyObject self, String name, IRubyObject[] args) throws Throwable {
        RubyClass selfClass = pollAndGetClass(context, self);
        CacheEntry entry = selfClass.searchWithCache(name);
        if (methodMissing(entry, site.callType(), name, caller)) {
            return callMethodMissing(entry, site.callType(), context, self, name, args);
        }
        
        MethodHandle target = getTarget(site, selfClass, name, entry, -1);
        
        if (target == null || ++site.failCount > RubyInstanceConfig.MAX_FAIL_COUNT) {
            site.setTarget(target = createFail(FAIL_N, site, name, entry.method));
        } else {
            target = postProcess(site, target);
            if (site.getTarget() != null) {
                site.setTarget(createGWT(TEST_N, target, site.getTarget(), entry, site, false));
            } else {
                site.setTarget(createGWT(TEST_N, target, FALLBACK_N, entry, site));
            }
        }

        return (IRubyObject)target.invokeWithArguments(context, caller, self, name, args);
    }

