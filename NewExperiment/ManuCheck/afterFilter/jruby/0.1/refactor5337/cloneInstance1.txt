(startLine=116 endLine=126 srcPath=/home/sonia/NewExperiment/jrubyFilter/01759/truffle/src/main/java/org/jruby/truffle/core/queue/QueueNodes.java)
        public Object popNonBlock(DynamicObject self, boolean nonBlocking) {
            final BlockingQueue<Object> queue = Layouts.QUEUE.getQueue(self);

            final Object value = doPoll(queue);
            if (value == null) {
                CompilerDirectives.transferToInterpreter();
                throw new RaiseException(getContext().getCoreLibrary().threadError("queue empty", this));
            }

            return value;
        }

