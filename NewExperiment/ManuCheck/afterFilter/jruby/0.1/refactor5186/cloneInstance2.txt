(startLine=494 endLine=514 srcPath=/home/sonia/NewExperiment/jrubyFilter/01339/src/org/jruby/RubyTime.java)
    private IRubyObject opMinusCommon(IRubyObject other) {
        long time = getTimeInMillis();
        long adjustment = Math.round(RubyNumeric.num2dbl(other) * 1000000);
        long micro = adjustment % 1000;
        adjustment = adjustment / 1000;

        time -= adjustment;

        if (getUSec() < micro) {
            time--;
            micro = 1000 - (micro - getUSec());
        } else {
            micro = getUSec() - micro;
        }

        RubyTime newTime = new RubyTime(getRuntime(), getMetaClass());
        newTime.dt = new DateTime(time).withZone(dt.getZone());
        newTime.setUSec(micro);

        return newTime;
    }

