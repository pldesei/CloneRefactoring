(startLine=57 endLine=70 srcPath=/root/NewExperiment/elasticsearchFilter/00415/modules/elasticsearch/src/main/java/org/elasticsearch/common/io/stream/LZFStreamOutput.java)
    @Override public void writeBytes(byte[] b, int offset, int length) throws IOException {
        int inputCursor = offset;
        int remainingBytes = length;
        while (remainingBytes > 0) {
            if (position >= outputBuffer.length) {
                writeCompressedBlock();
            }
            int chunkLength = (remainingBytes > (outputBuffer.length - position)) ? outputBuffer.length - position : remainingBytes;
            System.arraycopy(b, inputCursor, outputBuffer, position, chunkLength);
            position += chunkLength;
            remainingBytes -= chunkLength;
            inputCursor += chunkLength;
        }
    }

