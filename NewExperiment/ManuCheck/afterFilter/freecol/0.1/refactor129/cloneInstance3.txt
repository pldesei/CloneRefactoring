(startLine=148 endLine=186 srcPath=/root/NewExperiment/freecolFilter/00447/test/src/net/sf/freecol/common/model/IndianSettlementTest.java)
	public void testHorseBreedingNoHorsesAvail(){
		GoodsType horsesType = FreeCol.getSpecification().getGoodsType("model.goods.horses");
        GoodsType foodType = FreeCol.getSpecification().getGoodsType("model.goods.food");
        
		Game game = getStandardGame();

        Player indianPlayer = game.getPlayer("model.nation.tupi");

        Map map = getEmptyMap();
        game.setMap(map);
        
        //////////////////////
        // Setting test settlement and brave
        Tile settlementTile = map.getTile(5, 8);
        UnitType skillToTeach = FreeCol.getSpecification().getUnitType("model.unit.masterCottonPlanter");
        boolean isCapital = true;
        boolean isVisited = false;
        Unit residentMissionary = null;
        IndianSettlement camp = new IndianSettlement(game,indianPlayer,settlementTile,isCapital,skillToTeach,isVisited,residentMissionary);
        
        UnitType indianBraveType = FreeCol.getSpecification().getUnitType("model.unit.brave");
        Unit brave = new Unit(game, camp, indianPlayer, indianBraveType, UnitState.ACTIVE,
                indianBraveType.getDefaultEquipment());
        camp.addOwnedUnit(brave);
        
        assertEquals(1, camp.getUnitCount());
        assertEquals(0, camp.getFoodCount());
        
        // verify that there is food production for the horses
        int foodProduced = camp.getProductionOf(foodType);
        int foodConsumed = camp.getFoodConsumption();
        assertTrue("Food Produced should be more the food consumed",foodProduced > foodConsumed);
        
        camp.newTurn();
        
        int expectedHorses = 0;
        int horsesAvail = camp.getGoodsCount(horsesType);
        assertEquals("No horses should be in settlement",expectedHorses,horsesAvail);
	}

