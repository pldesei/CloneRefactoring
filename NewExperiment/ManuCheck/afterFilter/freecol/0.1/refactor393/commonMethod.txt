(startLine=186 endLine=198 srcPath=/root/NewExperiment/freecolFilter/01061/src/net/sf/freecol/server/ai/AIObject.java)
    /**
     * Gets a location's settlement if it has one, or failing that at
     * least make sure the location is not just a carrier.  The intent
     * is to increase the relevance of a location used as a target.
     *
     * @param loc The <code>Location</code> to test.
     * @return The location settlement if any, otherwise, the original
     *     location.
     */
    public static Location upLoc(Location loc) {
        if (loc instanceof Unit) loc = ((Unit)loc).getLocation();
        return (loc.getSettlement() != null) ? loc.getSettlement() : loc;
    }

