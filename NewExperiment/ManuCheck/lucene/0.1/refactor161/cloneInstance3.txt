(startLine=309 endLine=337 srcPath=/home/sonia/NewExperiment/luceneFilter/03074/lucene/core/src/java/org/apache/lucene/index/Sorter.java)
      {
        double[] values = new double[maxDoc];
        NumericDocValues dvs = DocValues.getNumeric(reader, sortField.getField());

        if (sortField.getMissingValue() != null) {
          Arrays.fill(values, (Double) sortField.getMissingValue());
        }
        while (true) {
          int docID = dvs.nextDoc();
          if (docID == NO_MORE_DOCS) {
            break;
          }
          values[docID] = Double.longBitsToDouble(dvs.longValue());
        }
        
        final int reverseMul;
        if (sortField.getReverse()) {
          reverseMul = -1;
        } else {
          reverseMul = 1;
        }

        return new DocComparator() {
          @Override
          public int compare(int docID1, int docID2) {
            return reverseMul * Double.compare(values[docID1], values[docID2]);
          }
        };
      }

