(startLine=1199 endLine=1214 srcPath=/root/Projects/org.eclipse.emfFilter/939/org.eclipse.emf/plugins/org.eclipse.emf.ecore.xmi/src/org/eclipse/emf/ecore/xmi/impl/XMLSaveImpl.java)
  protected void saveDataTypeSingle(EObject o, EStructuralFeature f)
  {
    EDataType d = (EDataType)f.getEType();
    EPackage ePackage = d.getEPackage();
    EFactory fac = ePackage.getEFactoryInstance();
    Object value = helper.getValue(o, f);
    if (value != null)
    {
      String svalue = helper.convertToString(fac, d, value);
      if (escape != null)
      {
        svalue = escape.convert(svalue);
      }
      doc.addAttribute(helper.getQName(f), svalue);
    }
  }

