(startLine=24 endLine=42 srcPath=/home/ubuntu/antFilter/1286/ant/proposal/myrmidon/src/java/org/apache/ant/modules/core/RegisterDataType.java)
    protected void registerResource( final String name, 
                                     final String classname, 
                                     final URL url )
        throws AntException, RegistryException 
    {
        if( null == classname )
        {
            try { m_engine.getTskDeployer().deployDataType( name, url.toString(), url ); }
            catch( final DeploymentException de )
            {
                throw new AntException( "Failed deploying " + name + " from " + url, de );
            }
        }
        else
        {
            final DefaultLocator locator = new DefaultLocator( classname, url );
            m_engine.getDataTypeEngine().getRegistry().register( name, locator ); 
        }
    }

