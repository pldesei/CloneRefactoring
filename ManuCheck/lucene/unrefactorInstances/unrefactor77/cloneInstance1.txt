(startLine=110 endLine=124 srcPath=/home/ubuntu/luceneFilter/891/lucene/lucene/src/java/org/apache/lucene/search/spans/FieldMaskingSpanQuery.java)
  public Query rewrite(IndexReader reader) throws IOException {
    FieldMaskingSpanQuery clone = null;

    SpanQuery rewritten = (SpanQuery) maskedQuery.rewrite(reader);
    if (rewritten != maskedQuery) {
      clone = (FieldMaskingSpanQuery) this.clone();
      clone.maskedQuery = rewritten;
    }

    if (clone != null) {
      return clone;
    } else {
      return this;
    }
  }

