(startLine=26 endLine=42 srcPath=/home/ubuntu/luceneFilter/1234/lucene/lucene/src/test/org/apache/lucene/util/TestNumericUtils.java)
  public void testLongConversionAndOrdering() throws Exception {
    // generate a series of encoded longs, each numerical one bigger than the one before
    BytesRef last=null, act=new BytesRef(NumericUtils.BUF_SIZE_LONG);
    for (long l=-100000L; l<100000L; l++) {
      NumericUtils.longToPrefixCoded(l, 0, act);
      if (last!=null) {
        // test if smaller
        assertTrue("actual bigger than last (BytesRef)", BytesRef.getUTF8SortedAsUTF16Comparator().compare(last, act) < 0 );
        assertTrue("actual bigger than last (as String)", last.utf8ToString().compareTo(act.utf8ToString()) < 0 );
      }
      // test is back and forward conversion works
      assertEquals("forward and back conversion should generate same long", l, NumericUtils.prefixCodedToLong(act));
      // next step
      last = act;
      act = new BytesRef(NumericUtils.BUF_SIZE_LONG);
    }
  }

